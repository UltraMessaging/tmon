<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tmon: UM Topic Monitor: User Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tmon: UM Topic Monitor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('userguide.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">User Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are two sides to the tmon software: user application and monitoring tool. The user application side of tmon consists of a set of APIs that let the application inform tmon when significant events happen. The monitoring tool side of tmon consists of a smaller set of APIs that assist in the writing of the monitoring tool that receives monitoring data from user applications.</p>
<p><br />
 </p>
<h1><a class="anchor" id="userapplicationapis"></a>
User Application APIs</h1>
<p>There are four types of tmon objects, each one of which monitors a corresponding type of UM object: </p><ul>
<li>
<a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/structtmon__ctx__s.html">tmon_ctx_t</a> - object associated with an application UM context object. Typically an application has a single UM context, but can sometimes have more than one. Applications also create the same number of tmon_t objects. </li>
<li>
<a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/structtmon__src__s.html">tmon_src_s</a> - object associated with an application UM source object. Applications that create source objects under a context object, also create the same number of tmon_src_t objects under the corresponding tmon_t object. </li>
<li>
<a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/structtmon__rcv__s.html">tmon_rcv_t</a> - object associated with an application UM receiver or wildcard receiver object. Applications that create receiver objects under a context object, also create the same number of tmon_rcv_t objects under the corresponding tmon_t object. </li>
<li>
/ref <a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/structtmon__conn__s.html">tmon_conn_s</a> "tmon_conn_t" - object associated with a source-to-receiver "connection". </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="clientdatapointers"></a>
Client Data Pointers</h2>
<p>tbd</p>
<p><br />
 </p>
<h1><a class="anchor" id="monitoringtoolapis"></a>
Monitoring Tool APIs</h1>
<p>tbd</p>
<p><br />
 </p>
<h2><a class="anchor" id="examplemonitoringtool"></a>
Example Monitoring Tool</h2>
<p>The supplied example monitoring tool, "lbmtmon.c", is derived from the standard UM example monitoring tool, <a href="https://ultramessaging.github.io/currdoc/doc/example/lbmmon.c">"lbmmon.c"</a> (one of the <a href="https://ultramessaging.github.io/currdoc/doc/example/index.html">C example apps</a>).</p>
<p>While the "tmon.c" module is primarily focused on the user's applications, it also contains a few APIs intended for use by the monitoring tool. See <a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/tmon_8h.html#ab09d9c9ed73960a763b4fdd1b55fbc35">tmon_create_context()</a> and <a class="elRef" doxygen="/Users/sford/Documents/GitHub/tmon/html/c.tag:../c/" href="../c/tmon_8h.html#a1040837000444f89cd161168df0f872e">tmon_create_monrcv()</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="limitationsandopportunities"></a>
Limitations and Opportunities</h1>
<ul>
<li>
<p class="startli">Because UM automatic monitoring does not give the application access to the internal monitoring context, tmon must create its own context. This adds an additional context and thread to each application.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The simple design of tmon makes it less scalable than a more complex design could be. In particular, it may not be suited for applications that create many thousands of sources or receivers in rapid succession. A potential enhancement might be a work queue that is rate limited.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Currently, only a C version is available. Production of Java or .NET versions will depend on demand.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The supplied example monitoring tool just prints the received events, nothing more. Many valuable functions could be added. For example, it could raise alarms if a publisher creates a source but subscribers for that topic do not discover or connect within a reasonable amount of time.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">There is no query capability. For example, if the monitoring tool is not collecting data for a period of time, perhaps due to network failure, tmon events reported during that period are lost. This is not a significant problem for standard UM monitoring data since it is generally cumulative. But lost tmon events generally cannot be reconstructed by subsequent data. A potential enhancement might be a query to the application's tmon. It could respond with full lists of sources and receivers and their states.</p>
<p class="endli"></p>
</li>
<li>
With wildcard receivers, it is not possible to know what topic is active when a connection object is created. It is not until the BOS or EOS event that the topic is known for that connection. (With regular receivers, the topic is known when the receiver is created.) </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
